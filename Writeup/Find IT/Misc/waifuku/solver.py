from PIL import Image
DATA = ""
w = 0 #dimension for square
h = 0
tol = 255-55 #tolerance
new_img = Image.new('RGB', (w, h), (0, 0, 0))#black square
for i in range(1,1+1):#2928 images
    print(f"Image {i}")
    im = Image.open("./images/output{:0>4}.jpg".format(i))
    # get dimension
    if not w and not h:
      w,h = im.size
   # #  im = im.crop((1920-w, 0, 1920, w))#x,y,left,right -> top right corner
   #  for x in range(w):
   #      for y in range(h):
   #          data = im.getpixel((x,y)) 
   #          if data[0] > tol and data[1] > tol and data[2] > tol:#pixels close to white
   #             #  new_img.putpixel((x,y),(255,255,255))
   #             # 1
   #             DATA += "1"
   #          else:
   #             DATA += "0"
DATA = """111001101111110000101100100111111110001000100111100111011111011000000011101011000010111110011100000101011001111100101000111000110101001101010100000101110110000101000010011101000011111011111110100011110101010001000101011001111101100011011000100110001010111001111110100001110000110000100111110011100010000000111000100000100000011111011011001010100001011111111000001100001011111001001110101001000010001000000100000110100010011000101011000011001110001001001000011011000010011000101011011100010101010011001100110101101101101110011100001100010010001011100010010000000110011110010000110110000101010001001011011000011100100110110000100010000010001010101010011000011111111010110101010000101111011110010010101101110111110111010011111111010010011001111111101111010111001001000011010100000011000001010111100000010001010100010010010000000000000001101101111101101110111101100101101101111111001010011011000000010001000011100111100100010011111110010100011000010001000000000000000000000000000000010011110001100100100000001001001101010010000000011000000000100000000000000000000010000000000000000000000000000001000000100001000010000000000011100110111111000010110010011111111000100010011110011101111101100000001110101100001011111001110000010101100111110010100011100011010100110101010000010111011000010100001001110100001111101111111010001111010101000100010101100111110110001101100010011000101011100111111010000111000011000010011111001110001000000011100010000010000001111101101100101010000101111111100000110000101111100100111010100100001000100000010000011010001001100010101100001100111000100100100001101100001001100010101101110001010101001100110011010110110110111001110000110001001000101110001001000000011001111001000011011000010101000100101101100001110010011011000010001000001000101010101001100001111111101011010101000010111101111001001010110111011111011101001111111101001001100111111110111101011100100100001101010000001100000101011110000001000101010001001001000000000000000110110111110110111011110110010110110111111100101001101100000001000100001110011110010001001111111001010001100001000100000000000000000000000000000001001111000110010010000000100100110101001000000001100000000010000000000000000000001000000000000000000000000000000100000010000100001000000000001110011011111100001011001001111111100010001001111001110111110110000000111010110000101111100111000001010110011111001010001110001101010011010101000001011101100001010000100111010000111110111111101000111101010100010001010110011111011000110110001001100010101110011111101000011100001100001001111100111000100000001110001000001000000111110110110010101000010111111110000011000010111110010011101010010000100010000001000001101000100110001010110000110011100010010010000110110000100110001010110111000101010100110011001101011011011011100111000011000100100010111000100100000001100111100100001101100001010100010010110110000111001001101100001000100000100010101010100110000111111110101101010100001011110111100100101011011101111101110100111111110100100110011111111011110101110010010000110101000000110000010101111000000100010101000100100100000000000000011011011111011011101111011001011011011111110010100110110000000100010000111001111001000100111111100101000110000100010000000000000000000000000000000100111100011001001000000010010011010100100000000110000000001000000000000000000000100000000000000000000000000000010000001000010000100000000000"""
# Convert binary string to bytes
binary_bytes = bytes(int(DATA[i:i+8], 2) for i in range(0, len(DATA), 8))

# Calculate the image dimensions assuming it's a square image
# image_size = int(len(binary_bytes)**0.5)
# Create an image from the bytes
image = Image.frombytes('L', (w,h), binary_bytes)

# Save the image
image.save('output_image1.jpg')